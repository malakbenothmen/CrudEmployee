<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
<nav class="navbar navbar-expand-lg shadow " style="background-color: rgb(119, 128, 0); ">
  <div class="container-fluid">
    <a class="navbar-brand text-white" href="#">CrudEmp</a>
    <a class="nav-link" href="#">
      <i class="bi-bell-fill text-white" style="font-size: 1.5rem;"></i> <!-- Utilisez l'icône de cloche de Bootstrap Icons -->
      <span class="badge badge-danger">{{ notificationCount }}</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-link text-white" aria-current="page" href="#">Lister</a>
        <a class="nav-link text-white" href="#">Ajouter Emp</a>
   
      </div>
    </div>
  </div>
</nav>

  <!-- Formulaire pour saisir les données d'un nouvel employé -->
  <!-- <h2>{{ selectedEmployee ? 'Edit Employee' : 'Add Employee' }}</h2> -->
  <h2>Edit Employee</h2>
  <form #employeeForm="ngForm" (ngSubmit)="onSubmit()" class="mt-3">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" class="form-control" [(ngModel)]="newEmployee.name" required>
    </div>
    <div>
      <label for="status">Status:</label>
      <input type="text" id="status" name="status" class="form-control" [(ngModel)]="newEmployee.status" required>
    </div><br/>
    <div>
    <button type="submit" class="btn" style="background-color: rgb(128, 62, 0); color: white;">{{ selectedEmployee ? 'Confirmer' : 'Add Employee' }}</button>
    <button type="button"  *ngIf="selectedEmployee"(click)="cancelEdit()" class="btn" style="background-color: rgb(128, 126, 0); color: white;">Cancel</button><br/>
  </div>
  </form>


<h1 class="mt-4 mb-3">La liste des Employees</h1>
 
<table class="table table-bordered table-md mt-3">
  <tr>
  <th scope="col">Id</th>
  <th scope="col">Name</th>
  <th scope="col">Status</th>
  <th scope="col">Action</th>
  </tr>
  <tr *ngFor="let emp of employees">
  <td>{{ emp.id }}</td>
  <td>{{ emp.name }}</td>
  <td>{{ emp.status }}</td>
  <td>
    <button class="btn btn-primary btn-sm mr-2" (click)="editEmployee(emp)">Edit</button>
    <button class="btn btn-danger btn-sm" (click)="deleteEmployee(emp.id)">Delete</button>
  </td>

  </tr>
  </table>

<!-- Boîte de dialogue pour l'édition de l'employé -->
<div *ngIf="isEditDialogVisible" class="edit-dialog">
  <div class="edit-dialog-content">
    <span class="close" (click)="closeEditDialog()">&times;</span>
    <h2>Edit Employee</h2>
    <!-- Ajoutez le formulaire d'édition ici -->
    <form #employeeForm="ngForm" (ngSubmit)="onSubmitedit()" class="mt-3">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" class="form-control" [(ngModel)]="newEmployee.name" required>
      </div>
      <div>
        <label for="status">Status:</label>
        <input type="text" id="status" name="status" class="form-control" [(ngModel)]="newEmployee.status" required>
      </div><br/>
      <div>
    <button type="button"  *ngIf="selectedEmployee"(click)="cancelEdit()" class="btn" style="background-color: rgb(128, 126, 0); color: white;">Cancel</button><br/>
    </div>
    </form>
    </div>
  </div>